<Window x:Class="ConcentradoKPI.App.Views.ShellWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:ConcentradoKPI.App.Views.Controls"
        Title="Concentrado KPI" Width="1200" Height="750"
        WindowStartupLocation="CenterOwner" Background="#F7F9FC">
    <Window.CommandBindings>
        <!-- Guardar (ya lo tienes) -->
        <CommandBinding Command="ApplicationCommands.Save"
                        CanExecute="Save_CanExecute"
                        Executed="Save_Executed"/>

        <!-- 🔴 NUEVO: Cerrar -->
        <CommandBinding Command="ApplicationCommands.Close"
                        CanExecute="Close_CanExecute"
                        Executed="Close_Executed"/>
    </Window.CommandBindings>
    <Window.InputBindings>
        <KeyBinding Command="ApplicationCommands.Save" Modifiers="Control" Key="S"/>
    </Window.InputBindings>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1147*"/>
            <ColumnDefinition Width="0*"/>
            <ColumnDefinition Width="0*"/>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="9*"/>
            <ColumnDefinition Width="0*"/>
            <ColumnDefinition Width="42*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="56"/>
            <!-- Top bar -->
            <RowDefinition Height="44"/>
            <!-- NavBar -->
            <RowDefinition Height="*"/>
            <!-- Body -->
        </Grid.RowDefinitions>

        <!-- TOP BAR: el DataContext se lo inyectamos en code-behind -->
        <controls:TopBar x:Name="TopBarControl"
                         Grid.Row="0"
                         Title="Pirámide de seguridad" Grid.ColumnSpan="7"/>

        <!-- NAVBAR -->
        <controls:NavBar Grid.Row="1" Grid.ColumnSpan="7"/>

        <!-- CUERPO dinámino -->
        <Border Grid.Row="2" Margin="12,12,12,12" CornerRadius="8"
            BorderBrush="#E5E5E5" BorderThickness="1" Background="White" Grid.ColumnSpan="7">
            <ContentControl x:Name="BodyHost"/>
        </Border>
    </Grid>
</Window>
